## 原型模式(Prototype Pattern)

![原型模式](https://github.com/GRain-long/ddstudy/blob/dev/ddstudy-designpattern/src/main/resources/image/prototype.png)


### 定义

&emsp;&emsp;用原型实例指定创建对象的种类，并且通过拷贝这些原型创建新的对象。



### 说明

&emsp;&emsp;原型模式属于创建型模式的一种，该模式实现了一个原型接口，用于创建当前对象的克隆，可以利用已有的一个原型对象，快速的生成和原型对象一样的实例。

&emsp;&emsp;另注意，不是因为实现了Cloneable就是原型模式，主要是拷贝已有对象的思想。

&emsp;&emsp;例中代码中既有自己写的接口，也有实现Cloneable接口的，自己写的接口最后还是通过new 关键字，而实现Cloneable接口可以调用本地clone方法，底层通过二进制流拷贝，效率更高，因此，
大多数情况下，都是通过实现Cloneable来实现原型模式。

### 优点

- 性能优良，要比直接new一个对象性能要好(实现Cloneable接口的话)。

- 利用原型模式，构造方法不会执行，这同时也是它的缺点(通过测试发现自己写copy方法会调用构造方法)。


### 适用场景

- 一个对象可能需多个修改者时，或对象之间相同或相似，可以用原型模式拷贝多个对象供调用者使用。

- 类初始化需要消耗很多的资源，可以使用原型模式结合工厂模式一起适用。


### 扩展

- 执行clone( )方法时，构造方法不会执行，只是从内存中（堆内存）以二进制流的方式进行拷贝，重新分配一个内存块。
- 深拷贝与浅拷贝。
- 要使用clone方法时，类的成员变量上不要增加final关键字。