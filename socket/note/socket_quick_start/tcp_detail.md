# TCP是什么
- TCP : Transmission Control Protocol
- TCP是传输控制协议；是一种面向连接的、可靠的、基于字节流的传输层通信协议，由IETF的RFC 793定义
- 与UDP一样完成第四层传输层所指定的功能与职责

# TCP的机制
- 三次握手、四次挥手
- 具有校验机制、可靠、数据传输稳定
- UDP能做的，TCP都能做
- 不过TCP不能做多播，广播。也不能做搜索。搜索只能UDP来做。

# TCP核心API讲解
- socket(): 创建一个socket
- bind(): 绑定一个Socket到一个本地地址和端口上
- connect(): 发起连接，连接到远程客户端
- accept(): 接受一个新的连接
- write(): 把数据写入到Socket输出流 
- read(): 从Socket输入流读取数据 

创建socket --> bind本地套接字(独占，安全) --> connect远程套接字 --> 

创建serverSocket --> bind本地套接字 --> accept客户端套接字 

>socket与进程的关系。

每个进程都可以创建一个socket。可以通过socket进行进程间的数据传输。

- socket(): 
- socket()

# TCP三次握手、四次挥手
## 三次握手
> 为什么是三次握手，不是两次，四次，五次。

- 两次握手，A告诉B我要发消息，B知道A要发消息了；B回复A我知道了。仅两次，无法保证B发送的消息A可以收到。
即A无法确认B是否接收到自己的信息。传输不可靠。
- 三次握手，A-->B , B-->A , A-->B AB双发都知道对方要给自己发数据了，知道数据从哪开始接收。传输可靠。
- 四次握手同两次握手效果一样
- 五次握手同三次握手效果一样。
- 每次握手都携带了一个随机值，随机值是用来确定是那个客户端的【可能有众多的客户端】

## 四次挥手
- Client --> Server 我想断开连接
- Server --> Client 知道了，你断开吧。 自此Client不再向Server发送请求/数据。但是Server还可以给Client发送数据。
- Server --> Client 我不给你发数据了。
- Client --> Server 知道了，你别发了。 自此Server不再向Client传输数据。

# 传输可靠性
- 排序、顺序发送、顺序组装
- 丢弃、超时
- 重发机制-定时器
计算机网络的书里写的很清楚，自己看书吧，图文并茂。【谢希仁老师的计算机网络 或 黑皮书 计算机网络自定向下】

# TCP传输案例

